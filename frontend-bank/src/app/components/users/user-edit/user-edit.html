<div class="user-form-container">
  <h3>Modifier l'utilisateur</h3>
  
  <form [formGroup]="editForm" (ngSubmit)="onSubmit()" class="user-form">
    
    <div class="form-group">
      <label for="edit-username">Nom d'utilisateur</label>
      <input 
        type="text" 
        id="edit-username"
        formControlName="username"
        class="form-control"
        [class.error]="username?.invalid && username?.touched"
      >
      @if (username?.invalid && username?.touched) {
        <div class="error-message">
          @if (username?.errors?.['required']) {
            Le nom d'utilisateur est requis
          }
          @if (username?.errors?.['minlength']) {
            Minimum 3 caractères
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="edit-email">Email</label>
      <input 
        type="email" 
        id="edit-email"
        formControlName="email"
        class="form-control"
        [class.error]="email?.invalid && email?.touched"
      >
      @if (email?.invalid && email?.touched) {
        <div class="error-message">
          @if (email?.errors?.['required']) {
            L'email est requis
          }
          @if (email?.errors?.['email']) {
            Format d'email invalide
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="edit-password">Nouveau mot de passe (optionnel)</label>
      <input 
        type="password" 
        id="edit-password"
        formControlName="password"
        class="form-control"
        placeholder="Laisser vide pour ne pas changer"
        [class.error]="password?.invalid && password?.touched"
      >
      @if (password?.invalid && password?.touched) {
        <div class="error-message">
          @if (password?.errors?.['minlength']) {
            Minimum 8 caractères
          }
        </div>
      }
    </div>

    <div class="form-group">
  <label for="edit-role">Rôle</label>
  <select 
    id="edit-role"
    formControlName="role"
    class="form-control"
    [class.error]="role?.invalid && role?.touched"
    >
        <option value="USER">Utilisateur</option>
        <option value="ADMIN">Administrateur</option>
    </select>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="btn-submit"
        [disabled]="!editForm.valid"
      >
        Modifier l'utilisateur
      </button>
      
      <button 
        type="button" 
        class="btn-cancel"
        (click)="onCancel()"
      >
        Annuler
      </button>
    </div>
  </form>
</div>